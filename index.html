<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halaman STR</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<style>
    .table {
        width: 100%;
        border-collapse: collapse;
    }

    .table td {
        padding: 1px 10px;
        vertical-align: middle;
    }

    .table td strong {
        display: inline-block;
        font-weight: bold;
    }
</style>
<body>
    <div class="container">
        <div class="text-center">
            <img src="image/image.png" alt="Valid" class="img-fluid mt-4">
            <img src="image/centang.png" alt="Valid" class="img-fluid" style="width: 70px">
        </div>
        <div class="row justify-content-center" style="padding: 20px">
            <div class="col-md-12">
                <table class="table">
                    <tbody>
                        <tr style="background-color: #cad0cc">
                            <td>Nomor Registrasi</td>
                        </tr>
                        <tr>
                            <td id="nomor_registrasi">-</td>
                        </tr>
                        <tr style="background-color: #cad0cc">
                            <td>Nama</td>
                        </tr>
                        <tr>
                            <td id="nama">-</td>
                        </tr>
                        <tr style="background-color: #cad0cc">
                            <td>Jenis Kelamin</td>
                        </tr>
                        <tr>
                            <td id="jenis_kelamin">-</td>
                        </tr>
                        <tr style="background-color: #cad0cc">
                            <td>Kompetensi</td>
                        </tr>
                        <tr>
                            <td id="kompetensi">-</td>
                        </tr>
                        <tr style="background-color: #cad0cc">
                            <td>STR Berlaku Sampai</td>
                        </tr>
                        <tr>
                            <td id="berlaku_sampai">-</td>
                        </tr>
                        <tr style="background-color: #cad0cc">
                            <td>Status Dokumen</td>
                        </tr>
                        <tr style="border: white">
                            <td id="status_dokumen"><strong>-</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-md-12">
                <img id="foto" src="https://via.placeholder.com/150" alt="Foto" class="img-thumbnail" width="75px" height="123" style="border: none">
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-database.js"></script>
    <script>
        // Konfigurasi Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyA6Vlz5pyII3kk-P4ZbxwEchUJfnP92NAI",
            authDomain: "e-partisher-20.firebaseapp.com",
            databaseURL: "https://e-partisher-20-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "e-partisher-20",
            storageBucket: "e-partisher-20.appspot.com",
            messagingSenderId: "268293834104",
            appId: "1:268293834104:web:e7ea2bbfc5df7638ea348d",
            measurementId: "G-KNFNM852W0",
        };

        // Inisialisasi Firebase
        firebase.initializeApp(firebaseConfig);

        // Ambil data dari Realtime Database
        const databaseRef = firebase.database().ref("registrations");
        databaseRef.once("value", (snapshot) => {
            const data = snapshot.val();

            // Isi data ke dalam tabel
            document.getElementById("nomor_registrasi").innerText = data.nomorRegistrasi || "-";
            document.getElementById("nama").innerText = data.nama || "-";
            document.getElementById("jenis_kelamin").innerText = data.jenisKelamin || "-";
            document.getElementById("kompetensi").innerText = data.kompetensi || "-";
            document.getElementById("berlaku_sampai").innerText = data.berlakuSampai || "-";
            document.getElementById("status_dokumen").innerText = data.statusDokumen || "-";

            // Tampilkan foto
            const fotoElement = document.getElementById("foto");
            fotoElement.src = data.fotoUrl || "https://via.placeholder.com/150";
            fotoElement.alt = data.nama || "Foto";
        });
    </script>
</body>
</html>
